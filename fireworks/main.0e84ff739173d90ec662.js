(()=>{"use strict";function t(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}var i=function(){function i(t,s,h,c){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.gravity=.2,this.cx=t,this.cy=s,this.ox=h/2,this.oy=.8*c,this.velX=0,this.velY=-(3*Math.random()+.012*c)}var s,h,c;return s=i,(h=[{key:"draw",value:function(t){return this.velY>=0&&(this.gravity=0),t.beginPath(),t.fillStyle="#ffffff",t.arc(this.cx,this.oy,1,0,2*Math.PI,!1),t.fill(),t.closePath(),this.velY+=this.gravity,this.oy+=this.velY,this.velY>=0?{isExploded:!0,x:this.cx,y:this.oy}:{isExploded:!1}}}])&&t(s.prototype,h),c&&t(s,c),i}();function s(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}var h=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.y=i,this.vy=16*Math.random()-8,this.minHeight=800,this.maxHeight=1400,this.height=this.randomHeight()}var i,h,c;return i=t,(h=[{key:"resize",value:function(t,i){this.stageWidth=t,this.stageHeight=i}},{key:"draw",value:function(t,i,s,h,c,e,a){this.y+=this.vy,this.y<0-s/a?(this.vy*=-1,this.y+=10):this.y>h+this.height/a&&(this.vy*=-1,this.y-=10),t.save(),t.translate((s-c)/a,-e),t.rotate(Math.PI/180*120),t.fillStyle="rgb(".concat(i.r,",").concat(i.g,",").concat(i.b,")");var n=t.createLinearGradient(s/2,this.y,s/2,this.y+this.height);n.addColorStop(0,"rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,", 0)")),n.addColorStop(.5,"rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,", 1)")),n.addColorStop(1,"rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,", 0)")),t.fillStyle=n,t.fillRect(0,this.y,Math.sqrt(s*s+h*h)/a,this.height),t.restore()}},{key:"randomHeight",value:function(){return Math.random()*(this.maxHeight-this.minHeight)+this.minHeight}}])&&s(i.prototype,h),c&&s(i,c),t}();function c(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}var e=function(){function t(i,s,h,c){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=s,this.friction=.96,this.gravity=.1,this.speed=Math.random()+4,this.angle=Math.random()*Math.PI*2,this.radius=5*Math.random()+3,this.spark=2,this.particleRadius=2*Math.random()+1,this.r=h.r,this.g=h.g,this.b=h.b,this.a=1,this.va=.01,this.light=c}var i,s,h;return i=t,(s=[{key:"draw",value:function(t){if(this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.speed*=this.friction,this.a-=this.va,t.beginPath(),t.fillStyle="rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")"),t.arc(this.x,this.y,this.particleRadius,0,2*Math.PI,!1),t.fill(),t.closePath(),this.light&&(t.fillStyle="rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a/50,")"),t.arc(this.x,this.y,50*this.particleRadius,0,2*Math.PI,!1),t.fill(),t.closePath()),this.a<=0)return!0}}])&&c(i.prototype,s),h&&c(i,h),t}();function a(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}var n=function(){function t(i,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=s,this.radius=.75*Math.random()+.5,this.twinkle=.01}var i,s,h;return i=t,(s=[{key:"draw",value:function(t){this.radius+=this.twinkle,(this.radius>=1.5||this.radius<.5)&&(this.twinkle*=-1,this.radius+=this.twinkle),t.beginPath(),t.fillStyle="rgb(255,255,255)",t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fill(),t.closePath()}}])&&a(i.prototype,s),h&&a(i,h),t}();function r(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}var o=[{r:57,g:62,b:143},{r:243,g:204,b:100},{r:177,g:34,b:40},{r:239,g:190,b:183},{r:167,g:107,b:254}],l=[{r:255,g:207,b:64}],u=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.backBtn=document.createElement("div"),this.backBtn.classList.add("back-btn"),this.backA=document.createElement("a"),this.backA.classList.add("back-btn__link"),this.backA.setAttribute("href","/"),this.backSvg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.backSvg.classList.add("back-btn__svg"),this.backSvg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.backSvg.setAttributeNS(null,"viewBox","0 0 24 24"),this.backPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.backPath.setAttributeNS(null,"d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"),this.backSpan=document.createElement("span"),this.backSpan.classList.add("back-btn__text"),this.backSpan.innerHTML="Back to noon",this.backSvg.appendChild(this.backPath),this.backA.append(this.backSvg,this.backSpan),this.backBtn.appendChild(this.backA),document.body.appendChild(this.backBtn),this.instruction=document.createElement("div"),this.instruction.classList.add("instruction","hidden","visuallyhidden"),this.instructionSvg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.instructionSvg.classList.add("instruction__svg"),this.instructionSvg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.instructionSvg.setAttributeNS(null,"viewBox","0 0 24 24"),this.instructionPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.instructionPath.setAttributeNS(null,"d","M18.19,12.44l-3.24-1.62c1.29-1,2.12-2.56,2.12-4.32c0-3.03-2.47-5.5-5.5-5.5s-5.5,2.47-5.5,5.5c0,2.13,1.22,3.98,3,4.89 v3.26c-2.15-0.46-2.02-0.44-2.26-0.44c-0.53,0-1.03,0.21-1.41,0.59L4,16.22l5.09,5.09C9.52,21.75,10.12,22,10.74,22h6.3 c0.98,0,1.81-0.7,1.97-1.67l0.8-4.71C20.03,14.32,19.38,13.04,18.19,12.44z M17.84,15.29L17.04,20h-6.3 c-0.09,0-0.17-0.04-0.24-0.1l-3.68-3.68l4.25,0.89V6.5c0-0.28,0.22-0.5,0.5-0.5c0.28,0,0.5,0.22,0.5,0.5v6h1.76l3.46,1.73 C17.69,14.43,17.91,14.86,17.84,15.29z M8.07,6.5c0-1.93,1.57-3.5,3.5-3.5s3.5,1.57,3.5,3.5c0,0.95-0.38,1.81-1,2.44V6.5 c0-1.38-1.12-2.5-2.5-2.5c-1.38,0-2.5,1.12-2.5,2.5v2.44C8.45,8.31,8.07,7.45,8.07,6.5z"),this.instructionSvg.appendChild(this.instructionPath),this.instruction.appendChild(this.instructionSvg),document.body.appendChild(this.instruction),this.mouseCursor=document.createElement("div"),this.mouseCursor.className="cursor",document.body.appendChild(this.mouseCursor),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.p=new Path2D("M523.5,20.833v24.833v2.667h-4.666v-9.667l-30.5-3.333v-4.667L519.667,18L523.5,20.833z M523.5,51h-5      L491,261.998h60.333L523.5,51z M489,270.33l-8.667,14h81l-7.331-13.999L489,270.33z M491,304.995h57.667l11.666-13h-79.667      L491,304.995z M458,258.001l-10.667,104h24L458,258.001z M374.667,319.333L362,470h25.333L374.667,319.333z M317.333,511.999      l-30,177.333h60L317.333,511.999z M287.125,696.252v29.08h61.542v-29.08H287.125z M249,615.5l-12.5,72H261L249,615.5z M200,588.5      l-22.5,139H223L200,588.5z M176.75,733.25V751H224v-18L176.75,733.25z M612.5,458l-16,75.75H628L612.5,458z M663.667,555.334      l-18,119H682L663.667,555.334z M714,596.667L699.333,684H727L714,596.667z M699.5,690.125v20h28.375V690.25L699.5,690.125z       M745.338,718.333h39.666L764.671,583L745.338,718.333z M543,595c-40.04,0-72.5,32.46-72.5,72.5S502.96,740,543,740      s72.5-32.46,72.5-72.5S583.04,595,543,595z M808.5,757.833V723h-65l-6.5,34.5h-4l-6-41.5h-29.541v10.667h-2.792L683.333,680      h-41.335v-67.336L629,596.332v-56.999h-35.001v-96.334h-21.334v-7h18.669v-12.332L576.667,299L560,423.667h-11.333V313.333h-57      L491.5,454H536v5h-44v19.5h-13.5v-88l-5.5-20h-61.5l-19.75,109.25l-3.25-3.25h-29V741l-11-10h-64L266,750.5V763h-4.5v-70H237v74h-4      l-8.5-9h-48l-15,15.5V808l18,22.5h213.75c0,0,62.917-14.545,59.75-81.5c-3.5-74-80.5-76-80.5-76s1-108,1-108l95.5-1l-0.167,15.497      l-80.667-0.164L388,658.167c0,0,76.5,12.333,82,91.333c0,56.5-43.25,81-43.25,81H808v-23l17.5-12.5v-28.5L808.5,757.833z       M542.75,754.5c-48.463,0-87.75-39.287-87.75-87.75S494.287,579,542.75,579s87.75,39.287,87.75,87.75S591.213,754.5,542.75,754.5z       M178.167,924.663c-4-6.33-7.667-0.663-7.667-0.663c-8,8.84-19.5,37.99-19.5,37.99c-10.667-0.667-7.333,1.667-7.333,1.667      l5.667,4.666c-7,8.666-5.667,21.667-5.667,21.667c5.667,10.333,10.333,2.667,10.333,2.667l7.333-17.489l15-0.167l0.833,8.322      C183,994.323,189,991.99,189,991.99C192.667,953.99,178.167,924.663,178.167,924.663z M166.667,959.667      c0.333-3.333,4.333-12.334,6-12.5s1.667,13,1.667,13S166.584,960.496,166.667,959.667z M193.875,981.625      c4.375,6.75,11.625,6.25,11.625,6.25c16.75-3.875,19.875-11.125,19.875-11.125c3.375-7.125,0.875-10.75-3-10.875      s-15.75,5.875-15.75,5.875c-2.875-1.625,4.75-42.125,4.75-42.125c-4.5-9.75-7.625-3.125-7.625-3.125      C187.875,961.625,193.875,981.625,193.875,981.625z M270.875,936.875c-3.625-12.375-11.75-10.625-11.75-10.625      c-12.125-0.125-14.75,10.125-14.75,10.125c-3.125,0.375-3.375,0-3.375,0c-16.625-3.875-16.625-10.625-16.625-10.625      c0.375-2.25-1.125-1.625-1.125-1.625c-2.75,0.25-3.875,5.125-3.875,5.125C215.75,940.5,237,949.625,237,949.625      c-7.25,8.5-5.125,45.375-5.125,45.375c9.875,18,15,9.125,15,9.125c-1-55.125,2.75-52.375,2.75-52.375      c1.75,0.75,9.5,0.125,9.5,0.125C272.875,949.875,270.875,936.875,270.875,936.875z M255.125,937.875c0,0,1.875-4.5,7.375-4      C262.5,933.875,263.375,938.25,255.125,937.875z M412.25,925.5c0,0-34.25-50.5-104.75-56.5c0,0-24-2.25-36,2c0,0-17,6.5-15.5,13.75      c0,0,1.5,5.75,9,4.5s6.5-2,6.5-2s2-3.75-7.75-3c0,0-7-3,14.25-3c0,0,22.75-0.75,26.5,0.5c0,0,69.25,6.5,98.75,60      c0,0,10.25,22.75-11,35.5c0,0-20.25,14.75-56.5,7.25v-37.25l11.5,0.25c0,0,20.75,2,24.5,8.25c0,0,1.5,2.75-5.75,6.25      c0,0-0.5,3.25,6.25,3.75c0,0,11-0.5,12.75-12c0,0,1.5-8.75-14-15.5c0,0-6.75-5.25-35.75-6V916.5c0,0-3.25-11.5-9.25-12.25      c0,0-4.5,7.5-6,15.5v15.75c0,0-14.75-1.25-25.5,6.25c0,0-15.75,8-14,14.5c0,0-2,12.5,39,35c0,0,0.25,10.25,3.5,11.25      c0,0,2.5,3.25,10,2.25c0,0,1.5-0.75,2-3.5s0-4,0-4l9.5,1c0,0,41.25,8.5,65.75-14.5C410.25,983.75,439.25,962,412.25,925.5z       M319.875,979.5c0,0-25.125-7.625-34.5-22c0,0-1.5-7.375,34.625-9.625L319.875,979.5z M465.375,886.125      c-7.125-7.875-22.25-5.25-22.25-5.25c-25.25,5.5-26.625,24.375-26.625,24.375c-0.083,9.583,4.083,10.417,4.083,10.417      c-0.5,0.833-0.333,6.208-0.333,6.208c4.25,9.375,10,2.25,10,2.25c2.625,1.125,8.75,1.125,8.75,1.125      c16,0.875,29.625-15.25,29.625-15.25C479.125,900.25,465.375,886.125,465.375,886.125z M426.083,908.251      c-1.75-13.167,12.083-14.167,12.083-14.167L426.083,908.251z M464.25,902.167c0,0-4.667,8.75-19.833,10.5      c0,0-4.25,0.667-6.417-1.583l17.5-16.417C455.5,894.667,470.583,891.167,464.25,902.167z M433.5,989.5c0,0,6.167,5.5,9.667,0.333      S444,952.167,444,952.167c-0.5-18.5-6.667-17.667-6.667-17.667C431.833,935.167,431,953,431,953      C429.167,985.167,433.5,989.5,433.5,989.5z M501.75,946.5c0,0,19.75-5.5-0.75-12c0,0-27.75-4-40,2.5c0,0-10.5,4.5-11.25,15.25      c0,0-0.75,8,12.25,9.75l20.75,1.25c0,0,32,6,0.5,16c0,0-22.25,3.25-24.5-3.5c0,0-2.75-4.25,5.5-4.5c0,0,3-0.25,4.25,1.75      c0,0,8,4,11.75,4c0,0,11-2,11-6.25c0,0-1-4-15-5.25c0,0-14.75-1.5-18.5,1.75c0,0-9.75,8,0,15.75c0,0,8.25,9.25,24.75,9.25      c0,0,17.5,3.5,26-19.5c0,0,3.25-14.5-19.75-17.75c0,0-12.75-2-21.5-1.5c0,0-16.25-2.25,0-5.5c0,0,9.5-2,17.25-1.5      C484.5,946.5,495.5,947.25,501.75,946.5z M523.5,987.667c0.333-1,0.833-19.333,0.833-19.333      c-1.334-14.167,1.334-10.667,1.334-10.667c4.667,5.166,16.333,26.667,16.333,26.667c2.833,5.5,8.667,4.667,8.667,4.667      c12-0.833,10.666-26.167,10.666-26.167c-1.334-32.667-18-38.667-18-38.667c-4.5-0.834-1.5,10.167-1.5,10.167      c8.833,23.667,6.834,35.667,6.834,35.667c-0.333,4.834-2.167,0.166-2.167,0.166c-1.833-8.167-20-29.333-20-29.333      c-3.833-6.333-6.333-1.667-6.333-1.667c-11.667,14.167-7.667,47.167-7.667,47.167C518.167,998.834,523.5,987.667,523.5,987.667z       M578.125,945c0,0,0.309,1.63,0.125,3.375c-0.25,2.375-2.75,5.375-2.75,5.375c-4.375,2.125-6.375,3.625-6.375,3.625      c-2.125,0.375-0.25,7.375-0.25,7.375h2.75l-3.875,6.5c-4,6.5-1.125,13.25-1.125,13.25c0.5,4.875,10.125,9.625,10.125,9.625      c2,0.875,7.75,0.5,7.75,0.5c22.875-6.625,23.75-15,23.75-15c0.625-4.75-6.625-5-6.625-5l-7.75-0.25h-11.5l2.875-10.125l18,0.125      c6.375-2.25,1-10.5,1-10.5H588l1.375-6.875h18c8.875,0.125,8.75-3.125,8.75-3.125c-1-12.375-13.625-11.5-13.625-11.5      c-36.75,1.125-34.625,6.75-34.625,6.75C568.25,943.625,578.125,945,578.125,945z M659.833,939.667c0,0-14.334,1.5-34,33      c0,0-2.499,0.168-1.166-5.666c0,0,8.5-20.834,14-25.334c0,0,0.833-8.999-3.667-7.166c0,0-20.667,14.167-20.167,40.5      c0,0,0.666,9.333,3.5,11.333c0,0-8.166,12.667-10.166,44.5c0,0,0.334,12.667,10,14.167c0,0,0.832,0,1.666-4      c0,0,4.334-29.833,12.667-44.5c0,0,20.167,7,38-29C670.5,967.501,679.167,940.667,659.833,939.667z M639.125,981.75      c0,0,11.125-21,22.625-30C661.75,951.75,670.75,972.5,639.125,981.75z M667.167,911.833c7.666,0,8,2.667,8,2.667l29.5,79.833      l19.334-51l20.5,50.834l26-77.834c3-4.834,9.5-4.5,9.5-4.5v-2.666h-24.5v2.666c9.667,0.166,8.5,4.5,8.5,4.5L746.334,966.5      l-18.833-49.667c0.667-6.167,10.166-4.833,10.166-4.833v-2.833h-32.5V912c7.833-0.167,9.834,4.167,9.834,4.167L720.834,934      l-12.667,31.667l-18.5-48.834c-0.334-4.834,7.667-5.333,7.667-5.333v-2.333h-30.167V911.833z M793,933.75      c0,0-28.625-3.125-27.75,32.5c0,0-1.375,26.5,28,28c0,0,24.875-1.625,25.25-31.125C818.5,963.125,819.75,935.375,793,933.75z       M806.625,976.375c-2.875,12.75-13.375,13.125-13.375,13.125c-9.125-0.125-14.5-9.625-14.5-9.625      c-5-8.25-2.125-28.875-2.125-28.875c2-11.75,15.25-11.625,15.25-11.625C805.75,939,807,955.125,807,955.125      C808.5,960.625,806.625,976.375,806.625,976.375z M830.75,945.5v41c-3.5,4-9.625,3.5-9.625,3.5v2.125h27.5v-2.375      c-8.875,0.25-10.5-2.75-10.5-2.75v-34.75c0-2,7-8.25,7-8.25c3.25-3.375,5-1.75,5-1.75c1.375,4.375,5.75,4.125,5.75,4.125      c5.375,0,5.125-5.125,5.125-5.125c1.5-9.75-8.75-7.125-8.75-7.125c-6.5,0.875-13,8.875-13.125,8.875s0-8.625,0-8.625l-16.375,6.75      C829.25,942,830.75,945.5,830.75,945.5z M868.625,914.125V987c-6.5,3.75-10.25,2.75-10.25,2.75v2.5h27.5v-2.5      c-5.5,0-6.875-2.875-6.875-2.875v-80.25h-5.25l-15.25,5.125l0.125,2.125L868.625,914.125z M936,982v-72.75l-1.875-2.625h-2.5      L916.5,911.5l0.125,2.875h7V939.5c-7.875-10.25-24.25-1.75-24.25-1.75c-12.625,6.375-11.625,26.875-11.625,26.875      c0,24,8.75,27.625,21.375,27.625s14.75-4.875,14.75-4.875V992c10.25-0.75,20.25-5,20.25-5v-2.5C936.375,984.625,936,982,936,982z       M923.75,979.625c0,0-4.75,7.375-10.25,7.375c0,0-15.75,1.125-15.75-24.625c0,0-1.625-21.75,14.5-23.25c0,0,8.125-0.75,11.5,6.75      V979.625z M959,975.5c-5.246,0-9.5,4.254-9.5,9.5s4.254,9.5,9.5,9.5s9.5-4.254,9.5-9.5S964.246,975.5,959,975.5z M959,992.531      c-4.158,0-7.531-3.373-7.531-7.531s3.373-7.531,7.531-7.531s7.531,3.373,7.531,7.531S963.158,992.531,959,992.531z       M956.082,989.439h1.315v-4.415h1.24c1.194,0.045,1.738,0.574,2.041,1.98c0.287,1.271,0.515,2.147,0.681,2.435h1.36      c-0.211-0.394-0.453-1.376-0.786-2.798c-0.241-1.059-0.711-1.784-1.497-2.056v-0.046c1.074-0.363,1.921-1.255,1.921-2.601      c0-0.786-0.287-1.482-0.802-1.936c-0.635-0.575-1.542-0.832-2.948-0.832c-0.907,0-1.86,0.076-2.525,0.212V989.439z       M957.397,980.306c0.212-0.06,0.665-0.12,1.301-0.12c1.391,0.015,2.344,0.589,2.344,1.905c0,1.164-0.893,1.936-2.299,1.936h-1.346      V980.306z M115.5,862c0,0-9-1.5-2,2.5c0,0,22.5,29,20.5,57.5c0,0-3.5,60-37.5,62.5c0,0-10.333,1.501-16.5-6.999      c0,0,24.834-14,26.167-41.667c0,0,2.5-24.333-13.333-27.833c0,0-24.833-3.334-32.167,30.666c0,0-3.833,26.001,5,38.167      c0,0-12.667,7.916-20.292-7.834c0,0-3.75-7.125-2.5-24.625c0,0,1.375-34.875,31.875-66.625c0,0,5.25-5.25-3.75-3.75      c0,0-44.25,26.25-44.25,74.25c0,0-2.5,36,28.25,39.25c0,0,9.5-1.5,12.5-4.5c0,0,11,17,27,17.5c0,0,34,2.5,51-44.5      C145.5,956,168,893.5,115.5,862z M88,916.834c4.667,0.5,3.5,14.167,3.5,14.167c-2.667,21.333-13,32-13,32      C74.667,921.501,88,916.834,88,916.834z"),this.pathWidth=1058,this.pathHeight=988,this.pathPos={scale:0,x:0,y:0},this.boxes=[],this.numBoxes=20,this.pixelRatio=window.devicePixelRatio>1?2:1,this.fireworks=[],this.particleCnt=25,this.particles=[],this.stars=[],this.starsCnt=150,window.addEventListener("pointermove",this.onMove.bind(this),!1),window.addEventListener("pointerup",this.onUp.bind(this),!1),window.addEventListener("resize",this.resize.bind(this),!1),this.resize(),requestAnimationFrame(this.animate.bind(this))}var s,c,a;return s=t,(c=[{key:"resize",value:function(){this.stageWidth=document.body.clientWidth,this.stageHeight=document.body.clientHeight,this.canvas.width=this.stageWidth*this.pixelRatio,this.canvas.height=this.stageHeight*this.pixelRatio,this.ctx.scale(this.pixelRatio,this.pixelRatio),this.showInstruction(),this.createBoxes(),this.createStars()}},{key:"showInstruction",value:function(){var t;clearInterval(t),t=setInterval(function(){setTimeout(function(){this.instruction.style.transform="translate(".concat(this.stageWidth*Math.random(),"px, ").concat(this.stageHeight*Math.random(),"px)")}.bind(this),1e3)}.bind(this),1e3),this.instruction.classList.remove("hidden"),setTimeout(function(){this.instruction.classList.remove("visuallyhidden")}.bind(this),1e3),setTimeout(function(){this.instruction.classList.add("visuallyhidden")}.bind(this),8e3),setTimeout(function(){this.instruction.classList.add("hidden"),clearInterval(t)}.bind(this),8500)}},{key:"explode",value:function(t,i){for(var s=0;s<this.particleCnt;s++){var h=l[0],c=Boolean;c=s%5==0,this.particles.push(new e(t,i,h,c))}}},{key:"createBoxes",value:function(){this.boxes=[];for(var t=0,i=0;i<this.numBoxes;i++){t=i%2==0?Math.random()*this.stageHeight/2:Math.random()*this.stageHeight/2+this.stageHeight/2;var s=new h(t);this.boxes.push(s)}}},{key:"createStars",value:function(){var t,i;this.stars=[];for(var s=0;s<this.starsCnt;s++){t=Math.random()*this.stageWidth,i=Math.random()*this.stageHeight;var h=new n(t,i);this.stars.push(h)}}},{key:"drawPath",value:function(){this.pathWidth>this.stageWidth?(this.pathPos.scale=.8*this.stageWidth/this.pathWidth,this.pathPos.x=(this.stageWidth-this.pathWidth*this.pathPos.scale)/2,this.pathPos.y=.8*(this.stageHeight-this.pathHeight*this.pathPos.scale)):(this.pathPos.scale=.5,this.pathPos.x=(this.stageWidth-this.pathWidth*this.pathPos.scale)/2,this.pathPos.y=.8*(this.stageHeight-this.pathHeight*this.pathPos.scale)),this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=10*this.pathPos.scale,this.ctx.translate(this.pathPos.x,this.pathPos.y),this.ctx.scale(this.pathPos.scale,this.pathPos.scale),this.ctx.clip(this.p)}},{key:"animate",value:function(t){requestAnimationFrame(this.animate.bind(this)),this.ctx.clearRect(0,0,this.stageWidth,this.stageHeight);for(var i=0;i<this.stars.length;i++)this.stars[i].draw(this.ctx);this.ctx.save(),this.drawPath();for(var s=0,h={},c=0;c<this.boxes.length;c++){var e=o[s];this.boxes[c].draw(this.ctx,e,this.stageWidth,this.stageHeight,this.pathPos.x,this.pathPos.y,this.pathPos.scale),++s>=o.length&&(s=0)}this.ctx.restore();for(var a=0;a<this.fireworks.length;a++)(h=this.fireworks[a].draw(this.ctx)).isExploded&&(this.fireworks.splice(a,1),this.explode(h.x,h.y));for(var n=0;n<this.particles.length;n++)this.particles[n].draw(this.ctx)&&this.particles.splice(n,1)}},{key:"onUp",value:function(t){var s=t.clientX,h=t.clientY;this.fireworks.push(new i(s,h,this.stageWidth,this.stageHeight))}},{key:"onMove",value:function(t){this.mouseCursor.style.transform="translate(".concat(t.clientX-this.mouseCursor.offsetWidth/2,"px, ").concat(t.clientY-this.mouseCursor.offsetHeight/2,"px)")}}])&&r(s.prototype,c),a&&r(s,a),t}();window.onload=function(){new u}})();
//# sourceMappingURL=main.0e84ff739173d90ec662.js.map