{"version":3,"sources":["webpack://pipe/./src/card.js","webpack://pipe/./src/logo.js","webpack://pipe/./src/app.js"],"names":["Card","x","y","cardSize","red","green","blue","alpha","this","ctx","beginPath","strokeStyle","lineWidth","save","fillStyle","moveTo","lineTo","fill","Logo","logo","Path2D","text","fontSize","speed","stageWidth","stageHeight","logoImg","drawImage","setTransform","translate","scale","restore","FILES","img","App","backBtn","document","createElement","classList","add","backA","setAttribute","backSvg","createElementNS","setAttributeNS","backPath","backSpan","innerHTML","appendChild","append","body","instruction","instructionSvg","instructionPath","mouseCursor","className","canvas","getContext","tmpCanvas","tmpCtx","background","src","pixelRatio","window","devicePixelRatio","addEventListener","resize","bind","pageLoaded","loadedImages","loadedFiles","image","preloadImages","Image","onDown","onMove","onUp","cards","imageNum","cur","isLoaded","isPressed","imgPos","width","height","console","log","clientWidth","clientHeight","showInstruction","clearRect","requestAnimationFrame","animate","i","length","file","tempImage","trackProgress","push","id","clearInterval","setInterval","setTimeout","style","transform","remove","stageRatio","imgRatio","Math","round","imgData","getImageData","getCards","columns","ceil","rows","pixelY","max","min","j","pixelX","size","floor","random","pixelIndex","data","card","t","randomCard","draw","e","clientX","offsetWidth","clientY","offsetHeight","onload"],"mappings":"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","file":"main.15fbe9da9c40ca98f9b7.js","sourcesContent":["export class Card {\n  constructor(x, y, cardSize, red, green, blue, alpha) {\n    this.x = x;\n    this.y = y;\n    this.cardSize = cardSize;\n    this.red = red;\n    this.green = green;\n    this.blue = blue;\n    this.alpha = alpha;\n  }\n\n  animate(ctx) {\n    ctx.beginPath();\n    ctx.strokeStyle = \"#000000\";\n    ctx.lineWidth = 5;\n    ctx.save();\n    ctx.fillStyle = `RGB(${this.red},${this.green},${this.blue},${this.alpha})`;\n    // ctx.rect(this.x, this.y, this.cardSize, this.cardSize);\n    ctx.moveTo(this.x, this.y);\n    ctx.lineTo(this.x, this.y - this.cardSize);\n    ctx.lineTo(this.x - this.cardSize, this.y - this.cardSize);\n    // ctx.stroke();\n    ctx.fill();\n    // ctx.closePath();\n\n    ctx.beginPath();\n    ctx.fillStyle = `RGB(0,0,0)`;\n    ctx.moveTo(this.x, this.y);\n    ctx.lineTo(this.x + this.cardSize, this.y - this.cardSize);\n    ctx.lineTo(this.x + this.cardSize, this.y);\n    ctx.fill();\n    // ctx.closePath();\n  }\n}\n","export class Logo {\n  constructor() {\n    this.logo = new Path2D(\n      \"M68.56 4L18.4 25.36Q12.16 28 7.92 28q-4.8 0-6.96-3.36-1.36-2.16-.8-5.48t2.96-7.08q2-3.04 6.56-8-1.6 2.56-2.24 5.28-1.2 5.12 2.16 7.52Q11.2 18 14 18q2.24 0 5.04-.72z\"\n    );\n    this.alpha = 0;\n    this.text = \"THIS IS NIKE.\";\n    this.fontSize = 60;\n    this.speed = 0.0005;\n  }\n\n  resize(stageWidth, stageHeight) {\n    this.stageWidth = stageWidth;\n    this.stageHeight = stageHeight;\n  }\n\n  draw(ctx, logoImg) {\n    ctx.drawImage(logoImg, this.stageWidth * 0.5 - 200, this.stageWidth * 0.5 - 200, 400, 400);\n    // this.alpha < 1 && (this.alpha += 0.001);\n    // this.alpha > 1 && (this.alpha = 1);\n\n    // ctx.save();\n    // ctx.setTransform(1, 0, 0, 1, 0, 0);\n    // ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;\n    // ctx.strokeStyle = `rgb(${card.red},${card.green},${card.blue})`;\n    // ctx.translate(this.stageWidth * 0.5 - 300, this.stageHeight * 0.5 - 200);\n    // ctx.scale(this.stageWidth * 0.004, this.stageWidth * 0.004);\n    \n    // ctx.fill(this.logo);\n\n    \n    // ctx.setTransform(1, 0, 0, 1, 0, 0);\n    // ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;\n    // ctx.font = `${this.fontSize}px 'Nunito Sans', sans-serif`;\n    // ctx.textAlign = \"center\";\n    // ctx.fillText(this.text, this.stageWidth * 0.5, this.stageHeight * 0.5);\n    // ctx.restore();\n  }\n\n  standBy(ctx) {\n    this.alpha < 0.3 ? (this.alpha += this.speed) : (this.alpha = 0);\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;\n    ctx.translate(this.stageWidth * 0.5 - 300, this.stageHeight * 0.5 - 200);\n    ctx.scale(this.stageWidth * 0.004, this.stageWidth * 0.004);\n    ctx.fill(this.logo);\n    ctx.restore();\n  }\n}\n","import './style.css'\n\nimport { Card } from \"./card.js\";\nimport { Logo } from \"./logo.js\";\n\nconst FILES = [\n  {img: \"image_0.jpg\"},\n  {img: \"image_1.jpg\"},\n  {img: \"image_2.jpg\"},\n  {img: \"image_3.jpg\"},\n  {img: \"image_4.jpg\"},\n  {img: \"image_5.jpg\"},\n  {img: \"image_6.jpg\"},\n]\n\nclass App {\n  constructor() {\n    this.backBtn = document.createElement(\"div\");\n    this.backBtn.classList.add(\"back-btn\");\n\n    this.backA = document.createElement(\"a\");\n    this.backA.classList.add(\"back-btn__link\");\n    this.backA.setAttribute(\"href\", \"/\");\n    this.backSvg = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"svg\"\n    );\n    this.backSvg.classList.add(\"back-btn__svg\");\n    this.backSvg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n    this.backSvg.setAttributeNS(null, \"viewBox\", \"0 0 24 24\");\n    this.backPath = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"path\"\n    );\n    this.backPath.setAttributeNS(\n      null,\n      \"d\",\n      \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n    );\n\n    this.backSpan = document.createElement(\"span\");\n    this.backSpan.classList.add(\"back-btn__text\");\n    this.backSpan.innerHTML = \"Back to noon\";\n\n    this.backSvg.appendChild(this.backPath);\n    this.backA.append(this.backSvg, this.backSpan);\n    this.backBtn.appendChild(this.backA);\n\n    document.body.appendChild(this.backBtn);\n\n    this.instruction = document.createElement(\"div\");\n    this.instruction.classList.add(\"instruction\", \"hidden\", \"visuallyhidden\");\n    this.instructionSvg = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"svg\"\n    );\n    this.instructionSvg.classList.add(\"instruction__svg\");\n    this.instructionSvg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n    this.instructionSvg.setAttributeNS(null, \"viewBox\", \"0 0 24 24\");\n    this.instructionPath = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"path\"\n    );\n    this.instructionPath.setAttributeNS(\n      null,\n      \"d\",\n      \"M18.19,12.44l-3.24-1.62c1.29-1,2.12-2.56,2.12-4.32c0-3.03-2.47-5.5-5.5-5.5s-5.5,2.47-5.5,5.5c0,2.13,1.22,3.98,3,4.89 v3.26c-2.15-0.46-2.02-0.44-2.26-0.44c-0.53,0-1.03,0.21-1.41,0.59L4,16.22l5.09,5.09C9.52,21.75,10.12,22,10.74,22h6.3 c0.98,0,1.81-0.7,1.97-1.67l0.8-4.71C20.03,14.32,19.38,13.04,18.19,12.44z M17.84,15.29L17.04,20h-6.3 c-0.09,0-0.17-0.04-0.24-0.1l-3.68-3.68l4.25,0.89V6.5c0-0.28,0.22-0.5,0.5-0.5c0.28,0,0.5,0.22,0.5,0.5v6h1.76l3.46,1.73 C17.69,14.43,17.91,14.86,17.84,15.29z M8.07,6.5c0-1.93,1.57-3.5,3.5-3.5s3.5,1.57,3.5,3.5c0,0.95-0.38,1.81-1,2.44V6.5 c0-1.38-1.12-2.5-2.5-2.5c-1.38,0-2.5,1.12-2.5,2.5v2.44C8.45,8.31,8.07,7.45,8.07,6.5z\"\n    );\n\n    this.instructionSvg.appendChild(this.instructionPath)\n    this.instruction.appendChild(this.instructionSvg)\n    document.body.appendChild(this.instruction)\n\n    this.mouseCursor = document.createElement(\"div\");\n    this.mouseCursor.className = \"cursor\";\n    document.body.appendChild(this.mouseCursor);\n\n    this.canvas = document.createElement(\"canvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    document.body.appendChild(this.canvas);\n\n    this.tmpCanvas = document.createElement(\"canvas\");\n    this.tmpCtx = this.tmpCanvas.getContext(\"2d\");\n\n    this.background = document.createElement(\"img\");\n    this.background.className = \"background\";\n    this.background.src = \"./this_is_not_a_pipe_bg.png\";\n    document.body.appendChild(this.background);\n\n    this.pixelRatio = window.devicePixelRatio > 1 ? 2 : 1;\n\n    this.logo = new Logo();\n\n    window.addEventListener(\"resize\", this.resize.bind(this), false);\n    \n    // image preloader\n\n    this.pageLoaded = false;\n    this.loadedImages = 0;\n    this.loadedFiles = [];\n    this.image;\n    this.preloadImages();\n\n    this.logoImg = new Image();\n    \n    this.logoImg.src = \"nike_logo.png\";\n\n    // this.resize();\n\n    document.addEventListener(\"pointerdown\", this.onDown.bind(this), false);\n    document.addEventListener(\"pointermove\", this.onMove.bind(this), false);\n    document.addEventListener(\"pointerup\", this.onUp.bind(this), false);\n\n    this.cards = [];\n    this.cardSize = 75;\n    this.imageNum = 0;\n    this.cur = 0;\n\n    this.isLoaded = false;\n    this.isPressed = false;\n    this.imgPos = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  resize() {\n    console.log(this.pixelRatio)\n    this.stageWidth = document.body.clientWidth;\n    this.stageHeight = document.body.clientHeight;\n\n    this.canvas.width = this.stageWidth * this.pixelRatio;\n    this.canvas.height = this.stageHeight * this.pixelRatio;\n\n    this.ctx.scale(this.pixelRatio, this.pixelRatio);\n\n    this.showInstruction();\n\n    this.logo.resize(this.stageWidth, this.stageHeight);\n    this.ctx.clearRect(0, 0, this.stageWidth, this.stageHeight);\n    window.requestAnimationFrame(this.animate.bind(this));\n    // this.canvas.addEventListener(\"click\", this.onClick.bind(this), false);\n  }\n\n  preloadImages() {\n    for (let i = 0; i < FILES.length; i++) {\n      const file = FILES[i];\n      const tempImage = new Image();\n\n      tempImage.addEventListener(\"load\", this.trackProgress.bind(this), true);\n      tempImage.src = file.img;\n\n      file[\"loadedImg\"] = tempImage;\n\n      this.loadedFiles.push(file);\n    }\n  }\n\n  trackProgress() {\n    this.loadedImages++;\n\n    if (this.loadedImages >= FILES.length) {\n      this.pageLoaded = true;\n      this.resize();\n      this.pageLoaded && requestAnimationFrame(this.animate.bind(this));\n    }\n  }\n\n  showInstruction() {\n    let id;\n    clearInterval(id);\n    id = setInterval(frame.bind(this), 10);\n    let i = 96;\n    let speed = 2;\n    \n    function frame() {\n      setTimeout(function() {\n        this.instruction.style.transform = `translate(${this.stageWidth * 0.5 - 48}px, ${this.stageHeight * 0.8 - 48}px)`;\n      }.bind(this), 1000);\n    }\n    this.instruction.classList.remove('hidden'); \n    setTimeout(function() {\n      this.instruction.classList.remove('visuallyhidden');\n    }.bind(this), 1000);\n\n    setTimeout(function() {\n      this.instructionSvg.style.width = `84px`\n      this.instructionSvg.style.height = `84px`\n    }.bind(this), 2200);\n\n    setTimeout(function() {\n      this.instructionSvg.style.width = `96px`\n      this.instructionSvg.style.height = `96px`\n    }.bind(this), 3200);\n\n    setTimeout(function() {\n      this.instruction.classList.add('visuallyhidden');\n    }.bind(this), 5000);\n    setTimeout(function() {\n      this.instruction.classList.add('hidden');\n      clearInterval(id);\n    }.bind(this), 5500);\n  }\n\n  drawImage() {\n    const stageRatio = this.stageWidth / this.stageHeight;\n    const imgRatio = this.image.width / this.image.height;\n\n    this.imgPos.width = this.stageWidth;\n    this.imgPos.height = this.stageHeight;\n\n    if (imgRatio > stageRatio) {\n      this.imgPos.width = Math.round(\n        this.image.width * (this.stageHeight / this.image.height)\n      );\n      this.imgPos.x = Math.round((this.stageWidth - this.imgPos.width) / 2);\n    } else {\n      this.imgPos.height = Math.round(\n        this.image.height * (this.stageWidth / this.image.width)\n      );\n\n      this.imgPos.y = Math.round((this.stageHeight - this.imgPos.height) / 2);\n    }\n    this.ctx.drawImage(\n      this.image,\n      0,\n      0,\n      this.image.width,\n      this.image.height,\n\n      this.imgPos.x,\n      this.imgPos.y,\n      this.imgPos.width,\n      this.imgPos.height\n    );\n\n    this.imgData = this.ctx.getImageData(\n      0,\n      0,\n      this.stageWidth,\n      this.stageHeight\n    );\n\n    this.getCards();\n  }\n\n  getCards() {\n    this.cards = [];\n\n    this.columns = Math.ceil(this.stageWidth / this.cardSize);\n    this.rows = Math.ceil(this.stageHeight / this.cardSize);\n\n    for (let i = 0; i < this.rows; i++) {\n      const y = i * this.cardSize + this.cardSize;\n      const pixelY = Math.max(Math.min(y, this.stageHeight), 0);\n\n      for (let j = 0; j < this.columns; j++) {\n        const x = j * this.cardSize;\n        const pixelX = Math.max(Math.min(x, this.stageWidth), 0);\n\n        const size = Math.floor(Math.random() * this.cardSize + this.cardSize);\n\n        const pixelIndex = (pixelX + pixelY * this.stageWidth) * 4;\n        const red = this.imgData.data[pixelIndex + 0];\n        const green = this.imgData.data[pixelIndex + 1];\n        const blue = this.imgData.data[pixelIndex + 2];\n        const alpha = this.imgData.data[pixelIndex + 3];\n\n        const card = new Card(x, y, size, red, green, blue, alpha);\n        this.cards.push(card);\n      }\n    }\n  }\n\n  animate(t) {\n    window.requestAnimationFrame(this.animate.bind(this));\n    if (this.isPressed) {\n      if (this.cards.length > 0) {\n        let randomCard = Math.floor(Math.random() * this.cards.length);\n\n        const card = this.cards[randomCard];\n        card.animate(this.ctx);\n\n        this.logo.draw(this.ctx, this.logoImg);\n\n      }\n    } else {\n      this.ctx.clearRect(0, 0, this.stageWidth, this.stageHeight);\n      // this.logo.standBy(this.ctx);\n    }\n  }\n\n  onDown(e) {\n    this.isPressed = true;\n    // this.image.src = `image_${this.imageNum}.jpg`;\n    // this.image.src = this.loadedFiles[this.imageNum][\"loadedImg\"]\n    this.image = this.loadedFiles[this.imageNum][\"loadedImg\"],\n\n    this.imageNum++;\n    if (this.imageNum > 6) {\n      this.imageNum = 0;\n    }\n\n\n\n    this.drawImage();\n  }\n\n  onMove(e) {\n    this.mouseCursor.style.transform = `translate(${\n      e.clientX - this.mouseCursor.offsetWidth / 2\n    }px, ${e.clientY - this.mouseCursor.offsetHeight / 2}px)`;\n  }\n\n  onUp(e) {\n    this.isPressed = false;\n    this.ctx.clearRect(0, 0, this.stageWidth, this.stageHeight);\n  }\n}\n\nwindow.onload = () => {\n  new App();\n};\n"],"sourceRoot":""}